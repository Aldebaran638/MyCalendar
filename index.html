<!DOCTYPE html>
<html lang='en'>
  <head>
    <meta charset='utf-8' />
    <title>我的智能日历</title>
    
    <!-- 引入FullCalendar库 -->
    <script src='./node_modules/fullcalendar/index.global.min.js'></script>
    
    <!-- 引入自定义样式 -->
    <link rel="stylesheet" href="./css/style.css">
  </head>
  <body>
    <div class="digital-clock">
      <div class="time-display" id="currentTime">14:30</div>
      <div class="date-display" id="currentDate">2025年7月18日</div>
    </div>
    
    <!-- 操作控制按钮 -->
    <div class="calendar-controls">
      <div class="action-buttons">
        <button id="undoBtn" onclick="undo()" disabled title="撤回上一步操作 (Ctrl+Z)">
          ⏪ 撤回
        </button>
        <button id="redoBtn" onclick="redo()" disabled title="复原上一步操作 (Ctrl+Y)">
          ⏩ 复原
        </button>
      </div>
      <small style="color: #666;">
        ⌨️ 快捷键: Ctrl+Z撤回, Ctrl+Y复原
      </small>
    </div>
    
    <div id='calendar'></div>
    
    <div class="control-panel">
      <div class="control-group">
        <label>🏷️ 事件名称</label>
        <input type="text" id="eventTitleInput" placeholder="输入事件名称（留空则默认为'新事件'）">
      </div>
      
      <div class="control-group">
        <label>🔁 重复频率</label>
        <select id="repeatFrequency">
          <option value="none">不重复</option>
          <option value="daily">每天</option>
          <option value="weekly">每周</option>
          <option value="monthly">每月</option>
          <option value="yearly">每年</option>
        </select>
        <small style="color: #666; font-size: 12px;">
          选择事件的重复频率
        </small>
      </div>
      
      <div class="control-group" id="repeatCountGroup" style="display: none;">
        <label>🔢 重复次数</label>
        <input type="number" id="repeatCount" min="1" max="365" value="10" placeholder="重复次数">
        <small style="color: #666; font-size: 12px;">
          最多重复多少次（留空则无限重复）
        </small>
      </div>
      
      <div class="control-group">
        <label>🎨 选择颜色</label>
        <div class="color-options">
          <div class="color-option" data-color="#3788d8" style="background-color: #3788d8;" onclick="selectColor('#3788d8')"></div>
          <div class="color-option" data-color="#28a745" style="background-color: #28a745;" onclick="selectColor('#28a745')"></div>
          <div class="color-option" data-color="#dc3545" style="background-color: #dc3545;" onclick="selectColor('#dc3545')"></div>
          <div class="color-option" data-color="#ffc107" style="background-color: #ffc107;" onclick="selectColor('#ffc107')"></div>
          <div class="color-option" data-color="#6f42c1" style="background-color: #6f42c1;" onclick="selectColor('#6f42c1')"></div>
          <div class="color-option" data-color="#fd7e14" style="background-color: #fd7e14;" onclick="selectColor('#fd7e14')"></div>
          <div class="color-option" data-color="#20c997" style="background-color: #20c997;" onclick="selectColor('#20c997')"></div>
          <div class="color-option" data-color="#6c757d" style="background-color: #6c757d;" onclick="selectColor('#6c757d')"></div>
        </div>
      </div>
      
      <div class="control-group">
        <label>🔍 透明度控制</label>
        <div class="opacity-controls">
          <input type="range" id="opacitySlider" min="0" max="1" step="0.01" value="1.0" class="opacity-slider">
          <input type="number" id="opacityInput" min="0" max="1" step="0.01" value="1.00" class="opacity-input" placeholder="0.00-1.00">
        </div>
        <small style="color: #666; font-size: 12px;">
          调整事件块的透明度 (0=完全透明, 1=完全不透明)
        </small>
      </div>
      
      <div class="control-group">
        <label>👀 预览效果</label>
        <div class="preview-section">
          <span class="preview-text">新事件将显示为：</span>
          <div class="preview-event" id="previewEvent">新事件</div>
        </div>
        <small style="color: #666; margin-top: 5px;">
          💡 点击事件可选中编辑，按Backspace删除，按Esc退出编辑
        </small>
      </div>
    </div>

    <!-- 引入自定义JavaScript -->
    <script src="./js/calendar.js"></script>
  </body>
</html>
